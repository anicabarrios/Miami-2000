<section class="relative py-24 bg-white overflow-hidden">
  <!-- Background Effects -->
  <div class="absolute inset-0">
    <div class="absolute inset-0 bg-gradient-to-tr from-primary-900/[0.02] via-transparent to-secondary-500/[0.02]">
    </div>
    <div class="absolute inset-0 opacity-[0.02]"
      style="background-image: url('/assets/pattern-grid.png'); background-size: 30px 30px;"></div>
    <div class="absolute inset-0" style="background-image: radial-gradient(circle at 20% 20%, rgba(227,76,38,0.02) 0%, transparent 70%),
                                radial-gradient(circle at 80% 80%, rgba(227,76,38,0.02) 0%, transparent 70%);">
    </div>
  </div>

  <div class="container-custom relative z-10">
    <!-- Section Header -->
    @if (showHeader) {
    <div class="text-center mb-16" data-aos="fade-up" data-aos-duration="1000" data-aos-anchor-placement="top-bottom">
      <div class="flex items-center justify-center gap-2 mb-4">
        <div class="h-px w-8 bg-secondary-500"></div>
        <span class="text-secondary-500 font-medium uppercase tracking-wider text-sm">{{ subtitle }}</span>
        <div class="h-px w-8 bg-secondary-500"></div>
      </div>
      <h2 class="text-4xl md:text-5xl font-bold text-primary-800 mb-4">{{ title }}</h2>
      @if (description) {
      <p class="text-lg text-primary-600 max-w-2xl mx-auto" data-aos="fade-up" data-aos-delay="100">
        {{ description }}
      </p>
      }
    </div>
    }

    <!-- Gallery Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      @for (image of images; track image.id; let i = $index) {
      <div [attr.data-aos]="getAOSProps(i)['data-aos']" [attr.data-aos-delay]="getAOSProps(i)['data-aos-delay']"
        [attr.data-aos-duration]="getAOSProps(i)['data-aos-duration']"
        [attr.data-aos-easing]="getAOSProps(i)['data-aos-easing']" class="group relative overflow-hidden rounded-xl h-96 bg-primary-900 shadow-lg hover:shadow-xl 
                    transition-all duration-500 cursor-pointer transform hover:-translate-y-1"
        (click)="onImageClick(image)">
        <!-- Image -->
        <img [src]="image.url" [alt]="image.title"
          class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700 ease-out">

        <!-- Enhanced Overlay with Parallax Effect -->
        <div class="absolute inset-0 bg-gradient-to-t from-primary-900/90 via-primary-900/50 to-transparent 
                    opacity-0 group-hover:opacity-100 transition-all duration-500
                    transform group-hover:translate-y-0 translate-y-4">
          <!-- Content -->
          <div class="absolute bottom-0 left-0 right-0 p-8 space-y-4">
            <!-- Category Tag -->
            <span class="inline-block px-4 py-1.5 bg-secondary-500/20 text-secondary-500 text-sm font-medium 
                         rounded-full backdrop-blur-sm transform -translate-y-2 opacity-0 
                         group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 delay-75">
              {{ image.category }}
            </span>
            <!-- Title with Slide Up Animation -->
            <h4 class="text-white font-bold text-2xl transform -translate-y-2 opacity-0 
                       group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 delay-100">
              {{ image.title }}
            </h4>
            <!-- Description with Fade In Animation -->
            <p class="text-white/80 text-sm line-clamp-2 transform -translate-y-2 opacity-0 
                      group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 delay-150">
              Professional auto body work and restoration services
            </p>
          </div>
        </div>

        <!-- Enhanced Decorative Elements -->
        <div class="absolute top-0 right-0 p-6 opacity-0 group-hover:opacity-100 transition-all duration-500">
          <div class="flex gap-2">
            <div class="w-2 h-2 bg-secondary-500 rounded-full transform -translate-y-4 
                        group-hover:translate-y-0 transition-all duration-300 delay-[50ms]"></div>
            <div class="w-2 h-2 bg-secondary-500/50 rounded-full transform -translate-y-4 
                        group-hover:translate-y-0 transition-all duration-300 delay-[100ms]"></div>
            <div class="w-2 h-2 bg-secondary-500/30 rounded-full transform -translate-y-4 
                        group-hover:translate-y-0 transition-all duration-300 delay-[150ms]"></div>
          </div>
        </div>
      </div>
      }
    </div>

    <!-- View All Button -->
    @if (showViewAllButton) {
    <div class="text-center mt-16" data-aos="fade-up" data-aos-duration="1000" data-aos-anchor-placement="top-bottom">
      <app-button variant="secondary" class="group inline-flex items-center gap-2 px-8" (onClick)="onViewAll()">
        {{ viewAllButtonText }}
      </app-button>
    </div>
    }
  </div>
</section>